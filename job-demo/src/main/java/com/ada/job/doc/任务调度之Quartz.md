# 任务调度

## 什么时候需要任务调度(背景)

1、账单日或者还款日上午 10 点，给每个信用卡客户发送账单通知，还款通知。
2、银行业务系统，夜间要完成跑批的一系列流程，清理数据，下载文件，解析文件，对账清算、切换结算日期等等。
3、金融机构跟人民银行二代支付系统对接，人民银行要求低于 5W 的金额（小额支付）半个小时打一次包发送，以缓解并发压力。所以，银行的跨行转账分成了多个流程：录入、复核、发送。如何把半个小时以内的所有数据一次性发送？
类似于这种
1、基于准确的时刻或者固定的时间间隔触发的任务，或者
2、有批量数据需要处理，或者
3、要实现两个动作解耦的场景，我们都可以用任务调度来实现

## 要求

基本需求
1）可以定义触发的规则，比如基于时刻、时间间隔、表达式。
2）可以定义需要执行的任务。比如执行一个脚本或者一段代码。任务和规则是
分开的。
3）集中管理配置，持久配置。不用把规则写在代码里面，可以看到所有的任务
配置，方便维护。重启之后任务可以再次调度——配置文件或者配置中心。
4）支持任务的串行执行，例如执行 A 任务后再执行 B 任务再执行 C 任务。
5）支持多个任务并发执行，互不干扰（例如 ScheduledThreadPoolExecutor）。
6）有自己的调度器，可以启动、中断、停止任务。
7）容易集成到 Spring

# Quartz

Quartz 的目的就是让任务调度更加简单，开发人员只需要关注业务即可。他是
用 Java 语言编写的（也有.NET 的版本）。Java 代码能做的任何事情，Quartz 都可以调度

## 特点

精确到毫秒级别的调度
可以独立运行，也可以集成到容器中
支持事务（JobStoreCMT ）
支持集群
支持持久化









